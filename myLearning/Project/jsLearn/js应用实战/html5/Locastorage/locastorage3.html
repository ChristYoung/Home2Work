<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>保存注册信息</title>
	</head>
	<body>
		<p>
			用户名:<input type="text" name="uName" id="uName" value="" />
		</p>
		<p>
			性别:<input type="radio" name="gender" id="gender1" value="F" />男
			    <input type="radio" name="gender2" id="gender2" value="M" />女
		</p>
		<p>
			内容:<textarea name="con" id="con" rows="" cols=""></textarea>
		</p>
		<button id="clear">清除按钮</button>
		<script type="text/javascript">
			window.onload = function(){
				var aInput = document.getElementsByTagName('input');
			    var oT = document.getElementById("con");
			    var oC = document.getElementById("clear");
			    if(window.localStorage.getItem('name')){
			    	aInput[0].value = window.localStorage.getItem('name');
			    };
			    if(window.localStorage.getItem('gender')){
			    	for(var i=1; i<aInput.length; i++){
			    		if(aInput[i].value == window.localStorage.getItem('gender')){
			    			aInput[i].checked = true;
			    		}
			    	}
			    };
			    if(window.localStorage.getItem('content')){
			    	oT.value = window.localStorage.getItem('content');
			    }
			    
			    window.onunload = function(){
					if(aInput[0].value){
						window.localStorage.setItem('name',aInput[0].value);
					};
					for(var i=1; i<aInput.length; i++){
						if(aInput[i].checked){
							window.localStorage.setItem('gender',aInput[i].value);
						}
					};
					if(oT.value){
						window.localStorage.setItem('content',oT.value);
					}
			   };
//			   oC.onclick = function(){
//			   	  window.localStorage.clear();
//			   	  alert(window.localStorage.getItem('name'))
//			   };
			};
			
		</script>
	</body>
</html>

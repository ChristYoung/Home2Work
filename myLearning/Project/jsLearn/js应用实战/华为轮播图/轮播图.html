<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
*{ padding:0; margin:0;}
li{ list-style:none;}
#div1{ min-width:1000px; height:396px; position:relative; overflow:hidden;}
#div1 ul{ position:absolute; left:0;}
#div1 ul li{ float:left;}
#div1 ul li img{ position:relative; left:0;}

#btn{ position:absolute; width:100%; text-align:center; bottom:0;}
#btn a{ cursor:pointer; display:inline-block; width:11px; height:11px; background:#666666;}
#btn a.active { background:white;} 
#btn a:hover{ background:white;}

*html .ie6_out{ margin-left:1000px; zoom:1;}
*html .ie6_in{ position:relative; float:left; margin-left:-1000px;}
</style>
<script type="text/javascript" src="move.js"></script>
<script type="text/javascript">
window.onload=function(){
	          oDiv=document.getElementById("div1");
			  oUl=oDiv.getElementsByTagName("ul")[0];
			  aLi=oUl.getElementsByTagName("li");
			  aImg=oUl.getElementsByTagName("img");
			  oBtn=document.getElementById("btn");
			  aA=oBtn.getElementsByTagName("a");
			  imgWidth=1920;
			  var iNow=0;                                                           //iNow用来控制按钮的自动切换
			  var iNow1=0;                                                         //iNow1用来控制图片的自动切换
			  oUl.style.width=aImg.length*imgWidth+'px';
			
			  //实现图片的自适应居中
			  function toResize(){
			  	  var viewWidth=document.documentElement.clientWidth;
			  	  if(viewWidth>600){
						  	  	 for(var i=0; i<aImg.length; i++){
						  	  	   aImg[i].style.left=-(imgWidth-viewWidth)/2+'px';
						  	  }
			  	  }
			  	  
			  }
			  toResize();
			  window.onresize=function(){
			  	 toResize()
			  }
			  
			  //实现点击按钮图片切换效果
			  for(var i=0; i<aA.length; i++){
			  	  aA[i].index=i;
			  	  aA[i].onclick=function(){
			  	  	     for(var i=0; i<aA.length; i++){
			  	  	     	 aA[i].className='';
			  	  	     }
			  	  	     this.className='active';
			  	  	     startMove(oUl,{left : -this.index*imgWidth});
			  	  }
			  }
			  
			  //实现图片的自动切换
//			  setInterval(toRun, 3000)
//			  function toRun(){
//			  	   if(iNow==aA.length-1){
//			  	   	     aLi[0].style.position='relative';
//			  	   	     aLi[0].style.left=aImg.length*imgWidth+'px';
//			  	   	     iNow=0;
//			  	   }else{
//			  	   	     iNow++
//			  	   }
//			  	   iNow1++;
//			  	   for(var i=0; i<aA.length; i++){
//			  	   	      aA[i].className='';
//			  	   }
//			  	   aA[iNow].className='active';
//			  	   startMove(oUl,{left : -iNow1*imgWidth},function(){
//			  	   	     if(iNow==0){
//			  	   	     	  aLi[0].style.position='static';
//			  	   	     	  oUl.style.left=0;
//			  	   	     	  iNow1=0;
//			  	   	     }
//			  	   });
//			  	   
//			  }
			  

}
</script>
</head>
<body>
<!--[if lte IE 6]>
<div class="ie6_out">
<div class="ie6_in">
<![endif]-->

<div id="div1">
	<ul>
    	<li><img src="1.jpg" /></li>
        <li><img src="2.jpg" /></li>
        <li><img src="3.jpg" /></li>
    </ul>
    <div id="btn">
    	<a href="javascript:;" class="active"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
    </div>
</div>

<!--[if lte IE 6]>
</div>
</div>
<![endif]-->
</body>
</html>

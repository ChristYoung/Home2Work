<nz-divider [nzText]="'表单嵌套'"></nz-divider>

<form [formGroup]="validateForm">

  <nz-form-item>
    <nz-form-label nzSpan="3" nz-col>
      工作流名称
    </nz-form-label>
    <nz-form-control nzSpan="7" nz-col>
      <input nz-input type="text" placeholder="请输入工作流名称" formControlName="workFlowName">
    </nz-form-control>

    <nz-form-label nzSpan="3" nzOffset="1" nz-col>
      工作流类型
    </nz-form-label>
    <nz-form-control nzSpan="7" nz-col>
      <input nz-input type="text" placeholder="请输入工作流类型" formControlName="workFlowType">
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzSpan="3" nz-col>
      <div>
        工作流内容：
      </div>
    </nz-form-label>
    <nz-form-control nzSpan="14">
        <div><button nz-button (click)="addStage()">增加stage</button></div>
        <div class="workFlowContent" formArrayName="workFlowContent"
        *ngFor="let content of workFlowContent.controls;
           let workflowIndex = index">
     <div [formGroupName]="workflowIndex.toString()">
       <nz-row>
         <nz-form-label nzSpan="3" nz-col>
           我是FormArray的item
           stage{{workflowIndex + 1}}
         </nz-form-label>
         <nz-form-control nzOffset="15" nzSpan="3" nz-col>
            <button nz-button (click)="removeStage(workflowIndex)">
                  删除
            </button>
        </nz-form-control>
       </nz-row>
       <nz-row>
         <nz-form-label nzSpan="3" nz-col>stageName</nz-form-label>
         <nz-form-control nz-col nzSpan="7">
           <input nz-input type="text" formControlName="stageName">
         </nz-form-control>
         <nz-form-label nzOffset="1" nzSpan="3" nz-col>stageType</nz-form-label>
         <nz-form-control nz-col nzSpan="7">
           <input nz-input type="text" formControlName="stageType">
         </nz-form-control>
       </nz-row>
       <nz-row>
         <nz-form-label nzSpan="3" nz-col>stageContent</nz-form-label>
         <nz-form-control nz-col nzSpan="18">
           <nz-row formArrayName="stageContent"
                   *ngFor="let stage of content.get('stageContent')['controls'];let stageIndex = index">
                   sdasd
             <input nz-input [formControlName]="stageIndex.toString()">
           </nz-row>
         </nz-form-control>
       </nz-row>
     </div>
   </div>
    </nz-form-control>
  </nz-form-item>

</form>

<nz-form-item>
  <nz-form-label nzSpan="3" nz-col>
    表单的值
  </nz-form-label>
  <nz-form-control nzSpan="21" nz-col>
    {{validateForm.value | json}}
  </nz-form-control>
</nz-form-item>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no, email=no">
		<meta name="HandheldFriendly" content="true">
		<meta name="screen-orientation" content="portrait">
		<meta name="x5-orientation" content="portrait">
		<meta name="msapplication-tap-highlight" content="no">
		<script type="text/javascript">
		document.getElementsByTagName('html')[0].style.fontSize = document.documentElement.clientWidth/10 +'px';
		</script> 
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="css/hasyqyh-common.css"/>
		<link rel="stylesheet" type="text/css" href="css/hasyqyh-pagemodules.css"/>
		<title>有图表页</title>
	</head>
	<body>
		<header class="header-bar">
			<h2 class="date-bar f_18">2016年10月25日</h2>
			<span class="select-date"></span>
		</header>
		<div class="nav-bar f_16">科室门诊日收入</div>
		<p class="charts-tips f_14 s_gray">*点击相应的环形可以查看具体数据</p>
		<div id="charts-wrap"></div>
		<div class="query-list">
			<ul class="list-ul">
				<li class="f_flex">
					<span class="list-tit">门诊:</span>
					<span class="list-vl f_flex1">新增<i class="s_orange">200</i>元</span>
					<span class="list-tit">完成度:</span>
					<span class="list-vl f_flex1"><i class="s_orange">90%</i></span>
					<a href="http://www.baidu.com" class="lisy-arrow"></a>
				</li>
				<li class="f_flex">
					<span class="list-tit">门诊:</span>
					<span class="list-vl f_flex1">新增<i class="s_orange">200</i>元</span>
					<span class="list-tit">完成度:</span>
					<span class="list-vl f_flex1"><i class="s_orange">90%</i></span>
					<a href="http://www.baidu.com" class="lisy-arrow"></a>
				</li>
				<li class="f_flex">
					<span class="list-tit">门诊:</span>
					<span class="list-vl f_flex1">新增<i class="s_orange">200</i>元</span>
					<span class="list-tit">完成度:</span>
					<span class="list-vl f_flex1"><i class="s_orange">90%</i></span>
					<a href="http://www.baidu.com" class="lisy-arrow"></a>
				</li>
			</ul>
		</div>
	</body>
	<script src="js/zepto.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/echarts.common.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		String.prototype.formatTens = function(){ //将千分位展示的字符串格式化成正常的数字
			return parseFloat(this.replace(/,/g,''));
		};
		function formatJsonArr(arr){
			arr.forEach(function(value,index,oldvalue){
				oldvalue[index] = value.value.formatTens();
			});
			return arr;
		}
		
		var chartsWrap = document.getElementById("charts-wrap"),
		    myCharts = echarts.init(chartsWrap),
		    option = {
			    tooltip: {},
			    legend: {
			        orient: 'horizontal',
			        left:5,
			        bottom:20,
			        selectedMode:false,
			        data:['门诊','内科','外科']
			    },
			    series: [
			        {
			            name:'访问来源',
			            type:'pie',
			            center:['50%',160],
			            radius: ['50%', '60%'],
			            avoidLabelOverlap: false,
			            label: {
			                normal: {
			                    show: false,
			                    position: 'center'
			                },
			                emphasis: {
			                    show: true,
			                    textStyle: {
			                        fontSize: '18',
			                        fontWeight: 'bold'
			                    }
			                }
			            },
			            labelLine: {
			                normal: {
			                    show: false
			                }
			            },
			            data: formatJsonArr([ 
			              {value:'2,300,2',name:'门诊'},
			              {value:'2,300,2',name:'内科'},
			              {value:'2,300,2',name:'外科'},
			            ])
			        }
			    ]
            };
            myCharts.setOption(option);
	</script>
</html>

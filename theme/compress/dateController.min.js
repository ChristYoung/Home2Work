function DateSelect(c){var g=$('<div class="dateWrapper"><div class="date-header">选择日期</div><div class="date-body"><ul><li><div class="plus" id="plusYear">+</div><div class="dateView" id="tYear"></div><div class="reduce" id="reduceYear">-</div></li><li><div class="plus" id="plusMonth">+</div><div class="dateView" id="tMonth"></div><div class="reduce" id="reduceMonth">-</div></li><li><div class="plus" id="plusDate">+</div><div class="dateView" id="tDate"></div><div class="reduce" id="reduceDate">-</div></li></ul></div><div class="date-footer"><ul><li id="cancel">取消</li><li id="confirm">确定</li></ul></div></div>');var i=$('<div class="moudleWrapper"></div>');g.prependTo("body");i.prependTo("body");var a=parseInt(c.val().split("-")[0]),e=parseInt(c.val().split("-")[1]),f=parseInt(c.val().split("-")[2]),d=2010,b=new Date().getFullYear();$("#tYear").html(a);$("#tMonth").html(e);$("#tDate").html(f);$("#plusYear").on("click",function(){a=a>=b?b:a+1;$("#tYear").html(a)});$("#reduceYear").on("click",function(){a=a<=d?a:a-1;$("#tYear").html(a)});$("#plusMonth").on("click",function(){e=e>=12?12:e+1;$("#tMonth").html(e)});$("#reduceMonth").on("click",function(){e=e<=1?1:e-1;$("#tMonth").html(e)});$("#plusDate").on("click",function(){if(isLeapYear(a)&&e==2){f=f>=29?29:f+1;$("#tDate").html(f)}else{if(e==2){f=f>=28?28:f+1;$("#tDate").html(f)}else{if(isMonth(e)){f=f>=31?31:f+1;$("#tDate").html(f)}else{f=f>=30?30:f+1;$("#tDate").html(f)}}}});$("#reduceDate").on("click",function(){f=f<=1?1:f-1;$("#tDate").html(f)});$("#cancel").click(function(){h()});$("#confirm").click(function(){if(isLeapYear(a)&&e==2){if(f>=29){f=29}}else{if(e==2){if(f>=28){f=28}}else{if(!isMonth(e)){if(f>=30){f=30}}}}f=f<10?"0"+f:f;e=e<10?"0"+e:e;c.val(a+"-"+e+"-"+f);h()});function h(){$("#plusYear").off("click");$("#reduceYear").off("click");$("#plusMonth").off("click");$("#reduceMonth").off("click");$("#plusDate").off("click");$("#reduceDate").off("click");$(".dateWrapper").remove();$(".moudleWrapper").remove()}}function isLeapYear(a){if(((a%4)==0)&&((a%100)!=0)||((a%400)==0)){return true}else{return false}}function isMonth(a){var c=[1,3,5,7,8,10,12];for(var b=0;b<7;b++){if(a==c[b]){return true}}return false}function compareDate(e,d,c){if(e>d){alert(c);return false}else{return true}};